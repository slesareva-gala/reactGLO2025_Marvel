"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[287],{605:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(8502),r=s(1425),c=s(579);const n=(e,t,s)=>{switch(e.replace(/\d/g,"")){case"waiting":case"loading":return(0,c.jsx)(a.A,{});case"confirmed":return(0,c.jsx)(t,{data:s});case"error":return(0,c.jsx)(r.A,{});default:throw new Error("Unexpected process state")}}},1425:(e,t,s)=>{s.d(t,{A:()=>i});var a=s(5464);const r=s.p+"static/media/error.42292aa12b6bc303ce99.gif";var c=s(579);const n=a.Ay.img`
  display: block;
  width: 250px;
  height: 250px;
  object-fit: contain;
  margin: 0 auto;
`,i=()=>(0,c.jsx)(n,{src:r,alt:"error"})},4354:(e,t,s)=>{s.d(t,{A:()=>n});const a=s.p+"static/media/Avengers.4065c8f9c94e3d8b039a.png",r=s.p+"static/media/Avengers_logo.9eaf219344d83362e830.png";var c=s(579);const n=()=>(0,c.jsxs)("div",{className:"app__banner",children:[(0,c.jsx)("img",{src:a,alt:"Avengers"}),(0,c.jsxs)("div",{className:"app__banner-text",children:["New comics every week!",(0,c.jsx)("br",{}),"Stay tuned!"]}),(0,c.jsx)("img",{src:r,alt:"Avengers logo"})]})},8637:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var a=s(1591),r=s(4354),c=s(5043),n=s(2582),i=s(9696),o=s(605),l=s(579);const d=()=>{const[e,t]=(0,c.useState)([]),[s,a]=(0,c.useState)(0),{processing:r,setProcessing:d,getAllComics:u,comicsMarvel:m}=(0,i.U)();(0,c.useEffect)((()=>{g()}),[]);const g=()=>{u(s).then(h)},h=e=>{t((t=>[...t,...e.filter((e=>t.findIndex((t=>t.id===e.id))<0))])),a(s+8),d("confirmed")},p=`button ${"loading"===r?"button__secondary":"button__main"} button__long`,v="loading"===r?{width:"unset"}:{};return(0,l.jsxs)("div",{className:"comics__list",children:[(e=>{const t=e.map((e=>{const{id:t,title:s,thumbnail:a,price:r}=e;return(0,l.jsx)("li",{className:"comics__item",children:(0,l.jsxs)(n.N_,{to:`/reactGLO2025_Marvel/comics/${t}`,children:[(0,l.jsx)("img",{src:a,alt:s,className:"comics__item-img"}),(0,l.jsx)("div",{className:"comics__item-name",children:s}),(0,l.jsx)("div",{className:"comics__item-price",children:r})]})},t)}));return(0,l.jsx)("ul",{className:"comics__grid",children:t})})(e),(e=>{switch(e){case"confirmed":return null;case"error429":return(0,l.jsx)("span",{className:"char__error_message",children:"You have exceeded your rate limit.  Please try again later."});default:return(0,o.A)(e)}})(r),"error429"===r||"loading"===r||s>m-1?null:(0,l.jsx)("button",{className:p,onClick:g,style:v,children:(0,l.jsx)("div",{className:"inner",children:"load more"})})]})},u=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(a.m,{children:[(0,l.jsx)("meta",{name:"description",content:"Page with list of Marvel comics"}),(0,l.jsx)("title",{children:"Marvel Comics"})]}),(0,l.jsx)(r.A,{}),(0,l.jsx)(d,{})]})},9696:(e,t,s)=>{s.d(t,{U:()=>n});var a=s(5043);const r=s.p+"static/media/image_not_found.68c05359794e52060c4c.webp",c=s.p+"static/media/image_not_available.3be6a10cceeb4b54c3b4.webp",n=()=>{const{request:e,processing:t,setProcessing:s}=(()=>{const[e,t]=(0,a.useState)("waiting");return{request:(0,a.useCallback)((async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{"Content-Type":"application/json","Accept-Language":"en-US, en;q=0.9"};t("loading");try{const t=await fetch(e,{method:s,body:a,headers:r});if(!t.ok)throw new Error(`Could not fetch ${e}, status: ${t.status}`);return await t.json()}catch(c){const e=c.message.includes("status:")?c.message.match(/(?<=status:\s*)\d{3}/g)[0]:"000";throw t("error"+e),new Error(c)}}),[]),processing:e,setProcessing:t}})(),n="https://gateway.marvel.com:443/v1/public/",i="apikey=fa6f60847fe3eef1265fb35542cf4dd5",o=e=>{const{id:t,name:s,description:a,thumbnail:n,urls:i}=e;return{id:t,name:s,description:a,thumbnail:n.path.includes("image_not_available")?r:n.path.includes("4c002e0305708")?c:`${n.path}.${n.extension}`,homepage:i[0].url,wiki:i[1].url,comics:e.comics.items}},l=e=>{var t;const{id:s,title:a,description:r,pageCount:c,thumbnail:n,prices:i}=e;return{id:s,title:a,description:r||"The description is missing",pageCount:c?`${c} p.`:"No information about the number of pages",thumbnail:`${n.path}.${n.extension}`,language:(null===(t=e.textObjects[0])||void 0===t?void 0:t.language)||"en-us",price:i[0].price?`${i[0].price} $`:"not available"}};return{charsMarvel:1564,comicsMarvel:1e3,offsetCharsBeginMarvel:196,processing:t,setProcessing:s,getCharacter:async t=>{try{const s=await e(`${n}characters/${t}?${i} `);return s?o(s.data.results[0]):null}catch(s){return null}},getCharacterByName:async t=>{try{return(await e(`${n}characters?name=${t}&${i}`)).data.results.map(o)}catch(s){return[]}},getAllCharacters:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:196,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9;if(t>1563)return[];try{return(await e(`${n}characters?limit=${s}&offset=${t}&${i}`)).data.results.map(o)}catch(a){return[]}},getAllComics:async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;try{return(await e(`${n}comics?orderBy=issueNumber&limit=${s}&offset=${t}&${i}`)).data.results.map(l)}catch(a){return[]}},getComic:async t=>{try{const s=await e(`${n}comics/${t}?${i}`);return s?l(s.data.results[0]):[]}catch(s){return[]}}}}}}]);
//# sourceMappingURL=287.51ed660f.chunk.js.map